@import "tailwindcss";

/* 
  CRITICAL for Tailwind v4: This tells Tailwind to use the .dark class
  on <html> to activate dark: variants, instead of the OS media query.
*/
@variant dark (&:where(.dark, .dark *));

@theme {
  --color-primary: #1e1b4b;        /* kept for subtle backgrounds/shadows */
  --color-accent-green: #ccff00;   /* highlight/emphasis only */
  --color-accent-teal: #14b8a6;    /* primary brand color */
  --color-background-light: #f6f6f8;
  --color-background-dark: #15141e;

  --font-display: "Space Grotesk", sans-serif;
  
  --animate-float: float 6s ease-in-out infinite;
  --animate-pulse-soft: pulse-soft 2s ease-in-out infinite;

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
  }

  @keyframes pulse-soft {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.05); }
  }

  @keyframes draw-line {
    0% { width: 0; }
    100% { width: 100%; }
  }
}

@layer base {
  body {
    @apply bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100;
  }

  /* Sync ALL elements to the same theme transition speed so nothing lags */
  *, *::before, *::after {
    transition-property: background-color, border-color, color;
    transition-duration: 150ms;
    transition-timing-function: ease;
  }

  /* But don't override intentional non-color transitions (transforms, opacity, etc.) */
  .animate-float, .animate-pulse-soft, .hover\:scale-105 {
    transition-property: transform, opacity;
  }
}

@layer utilities {
  .workbench-grid {
    background-image: 
        linear-gradient(to right, rgba(30, 27, 75, 0.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(30, 27, 75, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
  }
  
  .dark .workbench-grid {
    background-image: 
        linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255, 255, 255, 255, 0.05) 1px, transparent 1px);
  }

  .underline-neon {
    @apply relative inline-block;
  }

  .underline-neon::after {
    content: '';
    @apply absolute left-0 bottom-1 w-full h-3 -z-10 opacity-90;
    background-color: #3a9149;
  }
}